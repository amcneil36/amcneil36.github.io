<html> <head> <title> Marble Solitaire Game</title> </head> 
<center><body> <h3> Marble Solitaire Game</h3> </center>
<form id = "form1" action = "" method = "post"> 


<tr><td><input type = "button" name = "addBtn" value = "Restart Game" onclick = "setBoard()" /> </td> </tr>

<p style = "width:200px;"> Movements: Each X is allowed to move two spaces horizontally and vertically and must jump over 
another X and land on a blank square. Jumping over an X will remove the jumped X. Left-click on an X and then left-click 
on a destination to try to move that X to that destination. The horizontal dashes on the corners of the board are out-of-bounds.
<br> <br>Objective: The goal is to get one X remaining and have it be in the center. </p>

<center>
<table border = "0" style = "position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);"> 
<tr>
<td><input type = "button" id = "0,0"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
<td><input type = "button" id = "0,1"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
<td><input type = "button" id = "0,2"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
<td><input type = "button" id = "0,3"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
<td><input type = "button" id = "0,4"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
<td><input type = "button" id = "0,5"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
<td><input type = "button" id = "0,6"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
</tr>
<tr>
<td><input type = "button" id = "1,0"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
<td><input type = "button" id = "1,1"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
<td><input type = "button" id = "1,2"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
<td><input type = "button" id = "1,3"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
<td><input type = "button" id = "1,4"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
<td><input type = "button" id = "1,5"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
<td><input type = "button" id = "1,6"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
</tr>
<tr>
<td><input type = "button" id = "2,0"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
<td><input type = "button" id = "2,1"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
<td><input type = "button" id = "2,2"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
<td><input type = "button" id = "2,3"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
<td><input type = "button" id = "2,4"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
<td><input type = "button" id = "2,5"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
<td><input type = "button" id = "2,6"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
</tr>
<tr>
<td><input type = "button" id = "3,0"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
<td><input type = "button" id = "3,1"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
<td><input type = "button" id = "3,2"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
<td><input type = "button" id = "3,3"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
<td><input type = "button" id = "3,4"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
<td><input type = "button" id = "3,5"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
<td><input type = "button" id = "3,6"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
</tr>
<tr>
<td><input type = "button" id = "4,0"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
<td><input type = "button" id = "4,1"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
<td><input type = "button" id = "4,2"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
<td><input type = "button" id = "4,3"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
<td><input type = "button" id = "4,4"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
<td><input type = "button" id = "4,5"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
<td><input type = "button" id = "4,6"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
</tr>
<tr>
<td><input type = "button" id = "5,0"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
<td><input type = "button" id = "5,1"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
<td><input type = "button" id = "5,2"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
<td><input type = "button" id = "5,3"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
<td><input type = "button" id = "5,4"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
<td><input type = "button" id = "5,5"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
<td><input type = "button" id = "5,6"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
</tr>
<tr>
<td><input type = "button" id = "6,0"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
<td><input type = "button" id = "6,1"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
<td><input type = "button" id = "6,2"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
<td><input type = "button" id = "6,3"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
<td><input type = "button" id = "6,4"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
<td><input type = "button" id = "6,5"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
<td><input type = "button" id = "6,6"  style = "width:55px;font-size: 45px; line-height: 22px;height:55px;" onclick = "clickPiece.call(this)" value = "" /> </td>
</tr>

</table> 
</center>
</form> 
<script>


var fromStr = ""; // string of idx the piece that is wanting to be moved is from


function setColorsBack(){ // setting all background colors to the default color
	for (var i = 0; i < 7; i++){
		for (var j = 0; j < 7; j++){
		 var str = i.toString()+","+j.toString();
		 document.getElementById(str).style.background= document.getElementById("form1").addBtn.style.background;
		} // for
	} // for
	fromStr = "";
} // setColorsback

function setBoard(){
	for (var i = 0; i < 7; i++){
		for (var j = 0; j < 7; j++){
			var str = i.toString()+","+j.toString();
			document.getElementById(str).value = "X";
			document.getElementById(str).style.background= document.getElementById("form1").addBtn.style.background;
		}
	}
	document.getElementById("3,3").value = ""; // removing the middle piece
	document.getElementById("0,0").value = "-"; // boundaries
	document.getElementById("0,1").value = "-";
	document.getElementById("1,0").value = "-";
	document.getElementById("1,1").value = "-";
	document.getElementById("0,6").value = "-";
	document.getElementById("0,5").value = "-";
	document.getElementById("1,6").value = "-";
	document.getElementById("1,5").value = "-";
	document.getElementById("5,0").value = "-";
	document.getElementById("5,1").value = "-";
	document.getElementById("6,0").value = "-";
	document.getElementById("6,1").value = "-";
	document.getElementById("5,6").value = "-";
	document.getElementById("5,5").value = "-";
	document.getElementById("6,6").value = "-";
	document.getElementById("6,5").value = "-";
}

setBoard();

function isMoveValid(strStart, strFinish){
	var row1 = strStart[0];
	var row2 = strFinish[0];
	var col1 = strStart[2];
	var col2 = strFinish[2];
	if (document.getElementById(strStart).value !="X" || document.getElementById(strFinish).value != ""){
  return false;
	} // if
	if (row1 != row2 && col1 != col2 || strStart == strFinish){
	 return false;
	} // if
	if (row1 == row2){
		if (parseInt(col2) > parseInt(col1)){
			var maxCol = col2;
			var minCol = col1;
		} // if
		else{
			var maxCol = col1;
			var minCol = col2;
		} // else
		var diff = parseInt(maxCol) - parseInt(minCol);
		if (diff != 2){
   return false;
		} // if
		var stTemp = row1 + "," + (parseInt(maxCol)-1).toString();
		if (document.getElementById(stTemp).value == "X"){
			document.getElementById(stTemp).value = "";
			document.getElementById(strStart).value = "";
			document.getElementById(strFinish).value = "X";
			return true;
		} // if
		else{
		 return false;
		} // else
	} // if

	if (col1 == col2){
		if (parseInt(row2) > parseInt(row1)){
			var maxRow = row2;
			var minRow = row1;
		} // if
		else{
			var maxRow = row1;
			var minRow = row2;
		} // else
		var diff = parseInt(maxRow) - parseInt(minRow);
		if (diff != 2){
   return false;
		} // if
		var stTemp =  (parseInt(maxRow)-1).toString() + "," + col1;
		if (document.getElementById(stTemp).value == "X"){
			document.getElementById(stTemp).value = "";
			document.getElementById(strStart).value = "";
			document.getElementById(strFinish).value = "X";
			return true;
		} // if
		else{
		 return false;
		} // else
	} // if
} // isMoveValid

// functions representing what to do when each button is clicked

// if the square is a boundary, return
// if the click is for a destination, check if the move is valid
// if the move is valid, do the move, otherwise cancel and undo the green background 
// if the square is the piece that is wanting to be moved, make the background green

// the code below was generated from my Java program in another file

function clickPiece(){
	var str = this.id;
	if(document.getElementById(str).value == "-"){
	 return;
	} // if
	if (fromStr != ""){
		var toStr = str;
		isMoveValid(fromStr, toStr)
		document.getElementById(str).style.background= document.getElementById("form1").addBtn.style.background;
		fromStr = "";
		setColorsBack();
		return;
	} // if
	if (fromStr == "" && document.getElementById(str).value == "X"){
		document.getElementById(str).style.backgroundColor="#4dff4d";
		fromStr = str;
		return;
	} // if
} // clickPiece

</script>