<html>
<body>


<p id="p1" style = "width: 470px; text-align: left; font-family: Times New Roman; font-size: 13px; position:absolute; top: 0px;"></p>
<input type="file" id="file-input" style = "position: absolute top:0px; left:0px;" />
<p id="file-content" style = "width: 470px; style = position:absolute;"></p>
<button onclick="scrollWin()" style = "position: fixed; bottom: 10px; right: 10px;">Scroll Down</button><br><br>

<p style = "position: absolute; top: 40px;"> Upload a text file to be read </p>

<textarea name  = "comments" style = "visibility: hidden; position: absolute; left: 0px; top: 10px;" value = "" id = "comments" rows = "1" cols = "1" wrap = "hard"></textarea>

<p style = "position:absolute; left: 2px; top: 100px;" id = "widthTitle"> Width (px) </p>
<input type = "text" name = "desiredWidth" id = "desiredWidth" size = "7" value = "470" style = "position: absolute; left:2px; top: 150px;" maxlength = "45">
<button style = "position: absolute; left: 2px; top: 187px;" id = "b2" onclick="changeWidth()">Change Width</button>

<p style = "position:absolute; left: 2px; top: 220px;" id = "fontTitle"> Font-size (px) </p>
<input type = "text" name = "desiredFont" id = "desiredFont" size = "7" value = "13" style = "position: absolute; left:2px; top: 270px;" maxlength = "45">
<button style = "position: absolute; left: 2px; top: 307px;" onclick="changeFontSize()">Change Font-size</button>

<script>

var n = window.innerWidth;
var str = document.getElementById("p1").style.width
var str2 = parseInt(str.substring(0, str.length-2));
var res = (parseInt(n)-str2)/2
var t = res.toString();
document.getElementById("p1").style.left = t+"px"; 



function readSingleFile(e) {
  var file = e.target.files[0];
  if (!file) {
    return;
  }
  var reader = new FileReader();
  reader.onload = function(e) {
    var contents = e.target.result;
    displayContents(contents);
  };
  reader.readAsText(file);
}


function displayContents(contents) {
  var element = document.getElementById('comments');
  element.innerHTML = contents;
		var text = document.getElementById('comments').value; 
		text = '<p>' + text.replace(/\n([ \t]*\n)+/g, '</p><p>').replace('\n', '<br />') + '</p>';
		document.getElementById("p1").innerHTML = text;
		document.getElementById('file-input').visibility = 'none';
}

document.getElementById('file-input').addEventListener('change', readSingleFile, false);


function changeWidth() {
		  document.getElementById("p1").style.width =  document.getElementById("desiredWidth").value + "px";
				 n = window.innerWidth;
str = document.getElementById("p1").style.width
str2 = parseInt(str.substring(0, str.length-2));
res = (parseInt(n)-str2)/2
 t = res.toString();
document.getElementById("p1").style.left = t+"px"; 
}

function scrollWin() {

			//	alert();
    window.scrollBy(0, window.innerHeight-24);
}

function changeFontSize(){
document.getElementById("p1").style.fontSize = document.getElementById("desiredFont").value;
}

</script>

</body>
</html>