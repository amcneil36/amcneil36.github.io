


<html>
<head>
<title> Macronutrient Calculator</title>
</head>
<body>
<h3> Macronutrient Calculator </h3>


<form id = "nutritionForm"  action = "" method = "post">
<table border = "0">
  <tr><td> Item Name: 
<select id = "itemName" name = "itemName">
<option selected = "selected"> Apples </option> <!-- hard code this section to the name of your food items -->
<option> Banana </option>
<option> Bread </option>
<option> Brown Rice </option>
<option> Carrots </option>
<option> Cheerios </option>
<option> Chicken </option>
<option> Eggs: Egg Whites </option>
<option> Eggs: Whole Eggs </option>
<option> Honey Cheerios </optinon>
<option> Mozarella Cheese </option>
<option> Orange </option>
<option> Pasta Noodles: Pene Rigate </option>
<option> Pasta Noodles: Costco </option>
<option> Pasta Sauce: Non-Spicy </option>
<option> Pasta Sauce: Spicy </option>
<option> Peanuts </option>
<option> Pudding </option>
<option> Turkey </option>
</select></td></tr>
  <tr><td> Weight: <input type = "text" name = "weight" id = "weight" value = "" size = "1" /> 
  <select id = "weightUnits" name = "weightUnits">
<option selected = "selected"> g </option>
<option value = "ounces"> oz </option>
<option value = "pounds"> lb </option>
<option value = "kilograms"> kg </option>
</select></td></tr>




  <tr>
  <td>
	  <input type = "button" name = "addBtn" value = "Add to table" />  <input type = "reset" value = "Clear" /> <input type = "button" name = "resetArray" value = "Reset Table" />   </td></tr>
   <tr>  <td>
  <input type = "button" name = "alertArray" value = "Alert Array" style = "visibility: hidden;"/>   </td></tr>

</table>
</form>

<p style = "position:absolute; top: 0px; left: 370px;"> <b> My nutrition results: </b></p>


<table id = "myTable" border = "0" style = "position:absolute; top: 55px; left: 370px;">



	<tr><td> Item Name </td> <td> Weight(g) </td> <td> Calories </td> <td> Total Fat(g) </td> <td> Saturated Fat(g) </td> <td> Cholesterol(mg) </td> <td> Sodium(mg) </td> <td> Carbs(g) </td> <td> Fiber(g) </td> <td> Sugars(g) </td>  <td> Protein(g) </td> <td> Current Date & Time </td></tr>
	<tr> <td> TOTALS </td> <td> 0 </td> <td> 0 </td> <td> 0 </td> <td> 0 </td> <td> 0  </td> <td> 0 </td> <td> 0 </td>	<td> 0 </td> <td> 0 </td> <td> 0 </td> <td> </td>
</table>


<h3 style = "position: absolute; left:4px; top:160px;"> Notes </h3>
<p style = "position: absolute; left:4px; top:190px; width: 328px;"> Calories: 2900 <br>Protein: 121g<br>Fat: 65g<br>Carbs: 457g<br>Sodium: less than 2300mg<br>Cholesterol: less than 300mg<br>Sugars: less than 36g<br>---<br>Whole egg = 56g, egg white = 46g. 3 whole eggs = 168g, 5 egg white = 230g.<br>---<br>Pre-workout is 37.21g of peanuts, 45.19g of cheerios<br>Post-workout is 35.39g of peanuts, 77.13g of cheerios<br>water drinking: 17 to 20 oz 2-3 hrs before exercising and another 8 oz 30 min before working out
7-10oz every 10 to 20 min during exercise, 8oz within 30 mins after exercising</p>


<script type = "text/javascript">


  function confirmExit()
  {
    return "You have attempted to leave this page.  If you have not saved the table to Excel, your results will be lost.";
  }

 
function foodItem(serving_size, calories, total_fat, saturated_fat, cholesterol, sodium, carbs, fiber, sugars, protein) {
    this.serving_size = serving_size; // in grams
    this.calories = calories;
    this.total_fat = total_fat;
    this.saturated_fat = saturated_fat;
    this.cholesterol = cholesterol;
    this.sodium = sodium;
    this.carbs = carbs;
    this.fiber = fiber;
    this.sugars = sugars;
    this.protein = protein;
}

 function AlertArray(){
  alert("array of elements");
  alert(arrayOfElements);
  alert("local storage: ");
  alert(localStorage.getItem("nutritionEntries"));
 }
 
 function ResetTable(){
  var response = prompt("Type 'y' to reset the table.");
  if (response == "y"){
   localStorage.setItem("nutritionEntries", []);
   arrayOfElements = [];
   location.reload();
  }
 }

 function main()
  {
  
   
   var elt = document.getElementById("nutritionForm"); 
  
   var itemName = elt.itemName.value;
   var weight = parseFloat(elt.weight.value);
   var weightUnits = elt.weightUnits.value;
  
   if (weight == ''){alert("Fill in the weight");return;}
   if (isNaN(weight)){alert("Weight input is not a number");return;}

   if (outStr == ""){ outStr = "Item Name	Weight Total Fat Saturated Fat Cholesterol Sodium Carbs Sugars Protein Calories Current Dt Tm"; }
	
	 //  if (outStr.indexOf("\n".concat(elt.itemName.value).concat("\t")) != -1){alert(elt.itemName.value.concat(" is already in the table.")); document.getElementById("nutritionForm").reset(); return;}	  
	    outStr = outStr.concat("\n");

	  var food; 
   
   // hard code this entire set of 'if' and 'else if' to the name of your food items (to match the drop-down form of your list above) and update the nutrition facts
   
    if (itemName == "Apples"){ // change this to the name of your food item
     food = new foodItem(182, 95, 0.3, 0.1, 0, 2, 25, 4.4, 19, 0.5); // change this to the nutrition facts of your food item [serving_size, calories, total_fat, saturated_fat, cholesterol, sodium, carbs, fiber, sugars, protein]
    }
    else if (itemName == "Banana"){
     food = new foodItem(118, 105, 0.4, 0.1, 0, 1, 27, 3.1, 14, 1.3);
    }
    else if (itemName == "Bread"){
     food = new foodItem(26, 70, 1, 0, 0, 125, 13, 0.5, 2, 3);
    }
    else if (itemName == "Carrots"){
     food = new foodItem(85, 35, 0, 0, 0, 65, 8, 2, 5, 1);
    }
    else if (itemName == "Cheerios"){
     food = new foodItem(21, 100, 2, 0.5, 0, 140, 20, 3, 1, 3);
    }
    else if (itemName == "Chicken"){
     food = new foodItem(112, 110, 1, 0, 70, 75, 0, 0, 0, 24);
    }
    else if (itemName == "Eggs: Egg Whites"){
     food = new foodItem(46, 25, 0, 0, 0, 75, 0, 0, 0, 5);
    }
    else if (itemName == "Eggs: Whole Eggs"){
     food = new foodItem(56, 80, 5, 2, 210, 80, 0, 0, 0, 7); 
    }
    else if (itemName == "Honey Cheerios"){
     food = new foodItem(28, 110, 1.5, 0, 0, 160, 22, 2, 9, 2);
    }
    else if (itemName == "Mozarella Cheese"){
     food = new foodItem(30, 90, 6, 3.5, 15, 190, 1, 0, 0, 8);
    }
    else if (itemName == "Orange"){
     food = new foodItem(184, 96, 0, 0, 0, 0, 22, 4, 17, 2);
    }
    else if (itemName == "Pasta Noodles: Costco"){
     food = new foodItem(56, 210, 1, 0, 0, 0, 43, 2, 3, 6);
    }
    else if (itemName == "Pasta Noodles: Pene Rigate"){
     food = new foodItem(56, 200, 1, 0, 0, 0, 42, 2, 1, 7);
    }
    else if (itemName == "Pasta Sauce: Non-Spicy"){
     food = new foodItem(125, 80, 2, 0, 0, 410, 8, 2, 5, 2);
    }
    else if (itemName == "Pasta Sauce: Spicy"){
     food = new foodItem(125, 50, 1, 0, 0, 480, 10, 2, 6, 2);
    }
    else if (itemName == "Peanuts"){
     food = new foodItem(31, 170, 15, 2, 0, 130, 6, 3, 1, 8);
    }
    else if (itemName == "Pudding"){
     food = new foodItem(156, 170, 3.5, 2, 0, 200, 33, 2, 24, 1);
    }
    else if (itemName == "Turkey"){
     food = new foodItem(56, 50, 1, 0, 20, 520, 3, 0, 0, 9);
    } // hard-coding ends at this else if statement
    else{
     alert("item not found");
     return;
    }
    totalRows += 1;
    var table = document.getElementById("myTable");
    var row = table.insertRow(totalRows-1);
    
    if (weightUnits == "ounces"){
     weight = weight * 28.3495;
    }
    else if (weightUnits == "pounds"){
     weight = weight * 453.592;
    }
    else if (weightUnits == "kilograms"){
     weight = weight * 1000;
    }  
    
    var multiplier = weight/food.serving_size;
    
    food.total_fat *= multiplier;
    food.saturated_fat *= multiplier;
    food.cholesterol *= multiplier;
    food.sodium *= multiplier;
    food.carbs *= multiplier;
    food.sugars *= multiplier;
    food.protein *= multiplier;
    food.calories *= multiplier;
    food.fiber *= multiplier;
    
    weightTotal += parseFloat(weight.toFixed(2));
    totalFatTotal += parseFloat(food.total_fat.toFixed(2));
    saturatedFatTotal += parseFloat(food.saturated_fat.toFixed(2));
    cholesterolTotal += parseFloat(food.cholesterol.toFixed(2));
    sodiumTotal += parseFloat(food.sodium.toFixed(2));
    carbsTotal += parseFloat(food.carbs.toFixed(2));
    sugarsTotal += parseFloat(food.sugars.toFixed(2));
    proteinTotal += parseFloat(food.protein.toFixed(2));
    caloriesTotal += parseFloat(food.calories.toFixed(2));
    fiberTotal += parseFloat(food.fiber.toFixed(2));
    
    //var date2 = new Date();
   // var date = date2.toDateString() + " aaaa" + date2.toTimeString();
    var date = new Date();
    var dateString = date.toDateString() + ";   " + date.toTimeString().substring(0, 8);
    // ItemName weight, total_fat, saturated_fat, cholesterol, sodium, carbs, sugars, protein, calories, current dt tm
    row.insertCell(0).innerHTML = dateString;
    row.insertCell(0).innerHTML = food.protein.toFixed(2);
    row.insertCell(0).innerHTML = food.sugars.toFixed(2);
    row.insertCell(0).innerHTML = food.fiber.toFixed(2);
    row.insertCell(0).innerHTML = food.carbs.toFixed(2);
    row.insertCell(0).innerHTML = food.sodium.toFixed(2);
    row.insertCell(0).innerHTML = food.cholesterol.toFixed(2);
    row.insertCell(0).innerHTML = food.saturated_fat.toFixed(2);
    row.insertCell(0).innerHTML = food.total_fat.toFixed(2);
    row.insertCell(0).innerHTML = food.calories.toFixed(2);
    row.insertCell(0).innerHTML = weight.toFixed(2);
    row.insertCell(0).innerHTML = elt.itemName.value;
    arrayOfElements.push(dateString);
    arrayOfElements.push(food.protein.toFixed(2));
    arrayOfElements.push(food.sugars.toFixed(2));
    arrayOfElements.push(food.fiber.toFixed(2));    
    arrayOfElements.push(food.carbs.toFixed(2));
    arrayOfElements.push(food.sodium.toFixed(2));
    arrayOfElements.push(food.cholesterol.toFixed(2));
    arrayOfElements.push(food.saturated_fat.toFixed(2));
    arrayOfElements.push(food.total_fat.toFixed(2));
    arrayOfElements.push(food.calories.toFixed(2));
    arrayOfElements.push(weight.toFixed(2));
    arrayOfElements.push(elt.itemName.value);
    myTable.rows[totalRows].cells[1].innerHTML = weightTotal.toFixed(2);
    myTable.rows[totalRows].cells[2].innerHTML = caloriesTotal.toFixed(2);    
    myTable.rows[totalRows].cells[3].innerHTML = totalFatTotal.toFixed(2);    
    myTable.rows[totalRows].cells[4].innerHTML = saturatedFatTotal.toFixed(2);
    myTable.rows[totalRows].cells[5].innerHTML = cholesterolTotal.toFixed(2);
    myTable.rows[totalRows].cells[6].innerHTML = sodiumTotal.toFixed(2);
    myTable.rows[totalRows].cells[7].innerHTML = carbsTotal.toFixed(2);
    myTable.rows[totalRows].cells[8].innerHTML = fiberTotal.toFixed(2);    
    myTable.rows[totalRows].cells[9].innerHTML = sugarsTotal.toFixed(2);
    myTable.rows[totalRows].cells[10].innerHTML = proteinTotal.toFixed(2);
    myTable.rows[totalRows].cells[11].innerHTML = dateString;
    document.getElementById("nutritionForm").reset();  
    localStorage.setItem("nutritionEntries", arrayOfElements);
     
  } // main
  
var outStr = "";
var totalRows = 1;
var weightTotal = 0;
var totalFatTotal = 0;
var saturatedFatTotal = 0;
var cholesterolTotal = 0;
var sodiumTotal = 0;
var carbsTotal = 0;
var sugarsTotal = 0;
var proteinTotal = 0;
var caloriesTotal = 0;
var fiberTotal = 0;
myTable.rows[0].style.backgroundColor = "#ccf5ff";
myTable.rows[totalRows].style.backgroundColor = "#ccf5ff";
var date3 = new Date();
    myTable.rows[totalRows].cells[11].innerHTML = date3.toDateString() + ";   " + date3.getHours() + ":" + date3.getMinutes();

// window.onbeforeunload = confirmExit;
document.getElementById("nutritionForm").addBtn.onclick = main;
document.getElementById("nutritionForm").alertArray.onclick = AlertArray;
document.getElementById("nutritionForm").resetArray.onclick = ResetTable;

// foodItem(serving_size, total_fat, saturated_fat, cholesterol, sodium, carbs, sugars, protein, calories);
// var peanuts = new foodItem(31, 15, 2, 0, 0.13, 6, 1, 8, 170);
// var cheerios = new foodItem(21, 2, 0.5, 0, 0.14, 20, 1, 3, 100);

// Store


var arrayOfElements;



function startUp(){
try {
    arrayOfElements = localStorage.getItem("nutritionEntries");
}
catch(err) {
   localStorage.setItem("nutritionEntries", []);
   arrayOfElements = [];
   location.reload();
}

if (arrayOfElements == null){
   localStorage.setItem("nutritionEntries", []);
   arrayOfElements = [];
   location.reload();
}
else{
 arrayOfElements = arrayOfElements.split(",");
 var ctr = 0;
     totalRows += 1;
    var table = document.getElementById("myTable");
    var row = table.insertRow(totalRows-1);
 for (var i = 0; i < arrayOfElements.length; i++){
  row.insertCell(0).innerHTML = arrayOfElements[i];
  
  if (i%12 == 2){ // protein
     proteinTotal += parseFloat(arrayOfElements[i]);
     myTable.rows[totalRows].cells[10].innerHTML = proteinTotal.toFixed(2);
  }
  else if (i%12 == 3){ // sugars
    sugarsTotal += parseFloat(arrayOfElements[i]);
    myTable.rows[totalRows].cells[9].innerHTML = sugarsTotal.toFixed(2);
  }
  else if (i%12 == 4){ // fiber
    fiberTotal += parseFloat(arrayOfElements[i]);
    myTable.rows[totalRows].cells[8].innerHTML = fiberTotal.toFixed(2);
  }
  else if (i%12 == 5){ // carbs
     carbsTotal += parseFloat(arrayOfElements[i]);
    myTable.rows[totalRows].cells[7].innerHTML = carbsTotal.toFixed(2);
  }
  else if (i%12 == 6){ // sodium
    sodiumTotal += parseFloat(arrayOfElements[i]);
    myTable.rows[totalRows].cells[6].innerHTML = sodiumTotal.toFixed(2);
  }
  else if (i%12 == 7){ // cholesterol
    cholesterolTotal += parseFloat(arrayOfElements[i]);
    myTable.rows[totalRows].cells[5].innerHTML = cholesterolTotal.toFixed(2);
  }
  else if (i%12 == 8){ // saturated fat
    saturatedFatTotal += parseFloat(arrayOfElements[i]);
    myTable.rows[totalRows].cells[4].innerHTML = saturatedFatTotal.toFixed(2);
  }
  else if (i%12 == 9){ // total fat
    totalFatTotal += parseFloat(arrayOfElements[i]);
    myTable.rows[totalRows].cells[3].innerHTML = totalFatTotal.toFixed(2);    
  }
  else if (i%12 == 10){ // calories
  caloriesTotal += parseFloat(arrayOfElements[i]);
  myTable.rows[totalRows].cells[2].innerHTML = caloriesTotal.toFixed(2);
  }
  else if (i%12 == 11){ // weight
    weightTotal += parseFloat(arrayOfElements[i]);
    myTable.rows[totalRows].cells[1].innerHTML = weightTotal.toFixed(2);
  }
  else  if (i%12 == 0){ // item name
   totalRows += 1;
   row = table.insertRow(totalRows-1);
  }
 }
 }
 } // start up

startUp(); 
//localStorage.removeItem("nutritionEntries"); 

 
</script>


</body>
</html>



